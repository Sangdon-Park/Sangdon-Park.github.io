<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NKT8SV46');</script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serena MCP 설치 가이드 - Sangdon Park</title>
    <link rel="canonical" href="https://sangdon-park.github.io/articles/serena-mcp-guide.html">
    <link rel="alternate" hreflang="ko" href="https://sangdon-park.github.io/articles/serena-mcp-guide.html">
    <link rel="alternate" hreflang="en" href="https://sangdon-park.github.io/articles/serena-mcp-guide-en.html">
    <link rel="alternate" hreflang="x-default" href="https://sangdon-park.github.io/articles/serena-mcp-guide.html">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Serena MCP 설치 과정에서 발생하는 모든 문제와 해결 방법. Claude Code 통합, web_dashboard 설정, uv sync 등 상세 가이드">
    <meta name="keywords" content="Serena MCP, Claude Code, MCP 설치, AI 코딩 도구, 설치 가이드">
    <meta name="author" content="Sangdon Park">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Serena MCP 설치 가이드 - Sangdon Park">
    <meta property="og:description" content="Serena MCP 설치 과정에서 발생하는 모든 문제와 해결 방법">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://sangdon-park.github.io/articles/serena-mcp-guide.html">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Serena MCP 설치 가이드">
    <meta name="twitter:description" content="Serena MCP 설치 과정에서 발생하는 모든 문제와 해결 방법">
    <link rel="stylesheet" href="../css/article.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .tip-box {
            background: var(--card-bg);
            border: 1px solid var(--accent);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .tip-box h4 {
            color: var(--accent);
            margin-top: 0;
            margin-bottom: 15px;
        }
        .tip-box button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
            transition: all 0.2s ease;
        }
        :root {
            --success: #10b981;
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NKT8SV46"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div class="layout-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="profile-section">
                <a href="../ko.html" style="text-decoration: none;">
                <img src="../images/Sangdon.jpg" alt="Sangdon Park" class="profile-avatar">
            </a>
                <h1 class="profile-name">Sangdon Park</h1>
                <p class="profile-title">Principal Researcher<br>@ Sayberry Games Inc.</p>
                
                
                <div class="social-links">
                    <a href="mailto:chaos@sayberrygames.com" class="social-link" aria-label="Email">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://github.com/Sangdon-Park" class="social-link" target="_blank" aria-label="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/sangdon/" class="social-link" target="_blank" aria-label="LinkedIn">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://scholar.google.com/citations?user=JZFDtsgAAAAJ&hl=ko" class="social-link" target="_blank" aria-label="Google Scholar">
                        <i class="fas fa-graduation-cap"></i>
                    </a>
                    <a href="../CV-ko.pdf" class="social-link" target="_blank" aria-label="CV (Korean)" title="이력서 (한국어)">
                        <i class="fas fa-file-pdf"></i>
                    </a>
                </div>
            </div>
            
            <nav class="nav-section">
                <div class="nav-title">Navigation</div>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="../ko.html#posts" class="nav-link">
                            <i class="fas fa-home"></i> Posts
                        </a>
                    </li>
                    
                    
                </ul>
            </nav>
            
            <nav class="nav-section">
                <div class="nav-title">About</div>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="../ko.html#research" class="nav-link">
                            <i class="fas fa-flask"></i> Research
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../ko.html#experience" class="nav-link">
                            <i class="fas fa-briefcase"></i> Experience & Education
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../ko.html#projects" class="nav-link">
                            <i class="fas fa-project-diagram"></i> Projects
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../ko.html#publications" class="nav-link">
                            <i class="fas fa-book"></i> Publications
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../ko.html#talks" class="nav-link">
                            <i class="fas fa-microphone"></i> Talks & Seminars
                        </a>
                    </li>
                    
                </ul>
            </nav>
            
            <!-- Language Toggle -->
            <div class="language-toggle" style="padding: 20px; border-top: 1px solid var(--border);">
                <a href="../en.html" class="lang-btn" style="display: inline-block; padding: 8px 16px; background: var(--card-bg); color: var(--text); border: 1px solid var(--border); border-radius: 5px; text-decoration: none; margin-right: 10px;">EN</a>
                <a href="../ko.html" class="lang-btn active" style="display: inline-block; padding: 8px 16px; background: var(--accent); color: white; border: 1px solid var(--accent); border-radius: 5px; text-decoration: none;">KO</a>
            </div>
        </aside>
        
        <!-- Mobile Toggle -->
        <button class="mobile-toggle" id="mobile-toggle">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Main Content -->
        <main class="main-content">
            <a href="../ko.html#posts" class="back-to-posts">
                <i class="fas fa-arrow-left"></i>
                <span>Back to Posts</span>
            </a>
            
            <article class="article-container">
                <header class="article-header">
                    <span class="article-category">AI</span>
                    <h1 class="article-title">Serena MCP 설치 가이드</h1>
                    <div class="article-meta">
                        <span class="article-date">
                            <i class="far fa-calendar"></i> 2025년 8월 14일
                        </span>
                        <span class="article-reading-time">
                            <i class="far fa-clock"></i> 15 min read
                        </span>
                    </div>
                </header>
                
                <div class="article-content">
                    <div class="tip-box">
                        <h4>💡 Claude와 함께 문제 해결하기</h4>
                        <p>Serena 설치 중 "Failed to connect" 오류가 계속 발생한다면:</p>
                        <ol>
                            <li>아래 버튼으로 이 글을 복사하거나 다운로드하여 <code>.md</code> 파일로 저장</li>
                            <li>Claude에게 해당 파일을 제공하며 "이 가이드를 참고해서 Serena MCP 설치를 도와줘"라고 요청</li>
                            <li>Claude가 가이드를 읽고 단계별로 문제를 해결해 줄 것입니다</li>
                        </ol>
                        <div style="margin-top: 20px; display: flex; gap: 10px;">
                            <button id="copyContent" style="background: var(--accent); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-copy"></i> 전체 복사
                            </button>
                            <button id="downloadMd" style="background: var(--success); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 14px; display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-download"></i> MD 파일 다운로드
                            </button>
                        </div>
                        <div id="copyStatus" style="margin-top: 10px; color: var(--success); display: none;">
                            <i class="fas fa-check-circle"></i> 복사되었습니다!
                        </div>
                    </div>

                    <h2>개요</h2>
                    <p>본 문서는 Serena MCP 설치 과정에서 발생하는 모든 알려진 문제와 해결 방법을 다룹니다. 5시간의 트러블슈팅 결과와 <a href="https://hansdev.kr/tech/serena-mcp/" target="_blank" rel="noopener noreferrer">Chris Han님의 블로그 글</a>를 참고하여 작성되었습니다.</p>

                    <h2>주요 요구사항</h2>
                    <ol>
                        <li><strong>web_dashboard: false</strong> - 이 설정이 누락되면 설치가 실패합니다.</li>
                        <li><strong>uv sync</strong> - 의존성 설치가 반드시 필요합니다.</li>
                        <li><strong>글로벌 ~/.claude.json</strong> - 프로젝트별 설정이 아닌 글로벌 설정을 사용해야 합니다.</li>
                    </ol>

                    <h2>Serena MCP 소개</h2>
                    <p>Serena MCP는 LLM을 위한 고급 코딩 도구입니다. 주요 기능:</p>
                    <ul>
                        <li><strong>심볼 단위 코드 분석</strong>: 함수, 클래스, 변수를 정확하게 식별</li>
                        <li><strong>프로젝트 구조 분석</strong>: 파일 간 의존성 및 관계 파악</li>
                        <li><strong>효율적인 코드 수정</strong>: 토큰 사용량을 최소화하며 필요한 부분만 수정</li>
                        <li><strong>다중 언어 지원</strong>: Python, TypeScript, JavaScript, Go, Rust, Ruby, Swift</li>
                    </ul>

                    <h3>MCP(Model Context Protocol)</h3>
                    <p>Anthropic에서 개발한 프로토콜로, AI 모델이 외부 도구와 통신할 수 있도록 지원합니다. Claude Code의 파일 시스템 접근, 웹 검색 등이 MCP를 통해 구현됩니다.</p>

                    <h2>정확한 설치 절차</h2>
                    
                    <h3>사전 요구사항</h3>
                    <pre><code># Python 3.8+ 확인
python3 --version

# Git 확인
git --version

# uv 설치 (Python 패키지 관리자)
# Homebrew 사용 (macOS)
brew install uv

# 또는 공식 설치 스크립트 (Linux/macOS)
curl -LsSf https://astral.sh/uv/install.sh | sh

# 설치 확인
uv --version</code></pre>

                    <h3>1단계: 기존 설치 제거</h3>
                    <pre><code># 실행 중인 프로세스 확인 및 종료
ps aux | grep serena
# kill [PID]

# uv 도구 제거
uv tool uninstall serena-agent 2>/dev/null || echo "Not installed"

# 설정 파일 삭제
rm -rf ~/.serena
rm -rf .serena

# 실행 파일 삭제
rm -f ~/.local/bin/serena*

# 캐시 정리
find ~/.local/share/uv -name "*serena*" -exec rm -rf {} + 2>/dev/null

# 기존 클론 삭제
rm -rf ~/work/serena</code></pre>

                    <h3>2단계: 로컬 설치</h3>
                    <pre><code># 작업 디렉토리 생성
mkdir -p ~/work
cd ~/work

# GitHub에서 최신 버전 클론
git clone https://github.com/oraios/serena
cd serena

# 중요: 의존성 설치 (필수)
uv sync

# 성공 메시지 확인 (55개 패키지 설치)
# Installed 55 packages in XXXms</code></pre>

                    <h3>3단계: 설정 파일 구성</h3>
                    <pre><code># 설정 디렉토리 생성
mkdir -p ~/.serena

# 템플릿 복사
cp src/serena/resources/serena_config.template.yml ~/.serena/serena_config.yml

# 필수: 웹 대시보드 비활성화
sed -i 's/web_dashboard: True/web_dashboard: false/g' ~/.serena/serena_config.yml
sed -i 's/web_dashboard_open_on_launch: True/web_dashboard_open_on_launch: false/g' ~/.serena/serena_config.yml

# 또는 수동 편집
# web_dashboard: false
# web_dashboard_open_on_launch: false</code></pre>

                    <h3>4단계: Claude 설정</h3>
                    <p>Python 스크립트를 작성하여 Claude 설정을 자동화할 수 있습니다. 글로벌 설정에 Serena를 추가하고 프로젝트별 중복을 제거합니다.</p>

                    <h3>5단계: 검증 및 Claude 재시작</h3>
                    <pre><code># 설정 확인
grep -A 10 '"serena"' ~/.claude.json

# JSON-RPC 테스트
cd ~/work/serena
echo '{"jsonrpc":"2.0","method":"initialize","params":{"capabilities":{}},"id":1}' | \
  uv run serena-mcp-server --context ide-assistant 2>/dev/null | head -5

# Claude 재시작
# Ctrl+C 또는 /exit로 종료
claude --resume

# MCP 상태 확인
/mcp
# serena: Connected 표시 확인</code></pre>

                    <h2>핵심 지침</h2>
                    
                    <h3>금지 사항</h3>
                    <ol>
                        <li><code>uvx --from serena-agent</code> 사용 금지</li>
                        <li><code>serena start-mcp-server</code> 사용 금지 (웹 대시보드 시작)</li>
                        <li>PyPI 패키지 사용 금지 (구버전)</li>
                        <li>프로젝트별 .claude.json 설정 금지</li>
                        <li><code>web_dashboard: True</code> 설정 금지</li>
                        <li><code>uv sync</code> 생략 금지</li>
                    </ol>

                    <h3>필수 사항</h3>
                    <ol>
                        <li>GitHub에서 직접 클론</li>
                        <li><code>uv sync</code>로 의존성 설치</li>
                        <li><code>web_dashboard: false</code> 설정</li>
                        <li><code>uv run --directory</code> 사용</li>
                        <li>글로벌 ~/.claude.json 설정</li>
                        <li>중복 설정 제거</li>
                    </ol>

                    <h2>결론</h2>
                    <p>Serena MCP는 강력한 도구이나, 설치 과정에서 웹 대시보드 설정과 의존성 설치가 핵심입니다.</p>
                    
                    <p><strong>필수 확인 사항:</strong></p>
                    <ol>
                        <li><code>web_dashboard: false</code></li>
                        <li><code>uv sync</code> 실행</li>
                        <li>글로벌 설정 사용</li>
                    </ol>
                    
                    <p>본 가이드를 정확히 따르면 설치에 성공할 수 있습니다.</p>
                </div>
                
                <footer class="article-footer">
                    <div class="article-tags">
                        <a href="#" class="article-tag">Claude Code</a>
                        <a href="#" class="article-tag">MCP</a>
                        <a href="#" class="article-tag">AI Tools</a>
                        <a href="#" class="article-tag">Installation Guide</a>
                    </div>
                    
                    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--border);">
                        <p style="color: var(--text-secondary); font-size: 14px;">
                            <strong>작성일:</strong> 2025년 8월 14일<br>
                            <strong>참고 자료:</strong> <a href="https://hansdev.kr/tech/serena-mcp/" target="_blank" rel="noopener noreferrer">hansdev.kr - Serena MCP 설치 가이드</a>
                        </p>
                    </div>
                </footer>
            </article>
        </main>
    </div>
    
    <script>
        // Mobile Toggle
        const mobileToggle = document.getElementById('mobile-toggle');
        const sidebar = document.getElementById('sidebar');
        
        if (mobileToggle && sidebar) {
            mobileToggle.addEventListener('click', () => {
                sidebar.classList.toggle('open');
            });
        }

        // Markdown content
        const markdownContent = `# Serena MCP 개요와 설치, Claude Code 통합

## 💡 Claude와 함께 문제 해결하기

Serena 설치 중 "Failed to connect" 오류가 계속 발생한다면:
1. 이 글 전체를 복사하여 \`.md\` 파일로 저장
2. Claude에게 해당 파일을 제공하며 "이 가이드를 참고해서 Serena MCP 설치를 도와줘"라고 요청
3. Claude가 가이드를 읽고 단계별로 문제를 해결해 줄 것입니다

## 개요

본 문서는 Serena MCP 설치 과정에서 발생하는 모든 알려진 문제와 해결 방법을 다룹니다. 5시간의 트러블슈팅 결과와 [Chris Han님의 블로그 글](https://hansdev.kr/tech/serena-mcp/)를 참고하여 작성되었습니다.

## 주요 요구사항

1. **web_dashboard: false** - 이 설정이 누락되면 설치가 실패합니다.
2. **uv sync** - 의존성 설치가 반드시 필요합니다.
3. **글로벌 ~/.claude.json** - 프로젝트별 설정이 아닌 글로벌 설정을 사용해야 합니다.

## Serena MCP 소개

Serena MCP는 LLM을 위한 고급 코딩 도구입니다. 주요 기능:
- **심볼 단위 코드 분석**: 함수, 클래스, 변수를 정확하게 식별
- **프로젝트 구조 분석**: 파일 간 의존성 및 관계 파악
- **효율적인 코드 수정**: 토큰 사용량을 최소화하며 필요한 부분만 수정
- **다중 언어 지원**: Python, TypeScript, JavaScript, Go, Rust, Ruby, Swift

### MCP(Model Context Protocol)

Anthropic에서 개발한 프로토콜로, AI 모델이 외부 도구와 통신할 수 있도록 지원합니다. Claude Code의 파일 시스템 접근, 웹 검색 등이 MCP를 통해 구현됩니다.

## 정확한 설치 절차

### 사전 요구사항

\`\`\`bash
# Python 3.8+ 확인
python3 --version

# Git 확인
git --version

# uv 설치 (Python 패키지 관리자)
# Homebrew 사용 (macOS)
brew install uv

# 또는 공식 설치 스크립트 (Linux/macOS)
curl -LsSf https://astral.sh/uv/install.sh | sh

# 설치 확인
uv --version
\`\`\`

### 1단계: 기존 설치 제거

\`\`\`bash
# 실행 중인 프로세스 확인 및 종료
ps aux | grep serena
# kill [PID]

# uv 도구 제거
uv tool uninstall serena-agent 2>/dev/null || echo "Not installed"

# 설정 파일 삭제
rm -rf ~/.serena
rm -rf .serena

# 실행 파일 삭제
rm -f ~/.local/bin/serena*

# 캐시 정리
find ~/.local/share/uv -name "*serena*" -exec rm -rf {} + 2>/dev/null

# 기존 클론 삭제
rm -rf ~/work/serena
\`\`\`

### 2단계: 로컬 설치

\`\`\`bash
# 작업 디렉토리 생성
mkdir -p ~/work
cd ~/work

# GitHub에서 최신 버전 클론
git clone https://github.com/oraios/serena
cd serena

# 중요: 의존성 설치 (필수)
uv sync

# 성공 메시지 확인 (55개 패키지 설치)
# Installed 55 packages in XXXms
\`\`\`

### 3단계: 설정 파일 구성

\`\`\`bash
# 설정 디렉토리 생성
mkdir -p ~/.serena

# 템플릿 복사
cp src/serena/resources/serena_config.template.yml ~/.serena/serena_config.yml

# 필수: 웹 대시보드 비활성화
sed -i 's/web_dashboard: True/web_dashboard: false/g' ~/.serena/serena_config.yml
sed -i 's/web_dashboard_open_on_launch: True/web_dashboard_open_on_launch: false/g' ~/.serena/serena_config.yml

# 또는 수동 편집
# web_dashboard: false
# web_dashboard_open_on_launch: false
\`\`\`

### 4단계: Claude 설정

Python 스크립트를 작성하여 Claude 설정을 자동화할 수 있습니다. 글로벌 설정에 Serena를 추가하고 프로젝트별 중복을 제거합니다.

### 5단계: 검증 및 Claude 재시작

\`\`\`bash
# 설정 확인
grep -A 10 '"serena"' ~/.claude.json

# JSON-RPC 테스트
cd ~/work/serena
echo '{"jsonrpc":"2.0","method":"initialize","params":{"capabilities":{}},"id":1}' | \\
  uv run serena-mcp-server --context ide-assistant 2>/dev/null | head -5

# Claude 재시작
# Ctrl+C 또는 /exit로 종료
claude --resume

# MCP 상태 확인
/mcp
# serena: Connected 표시 확인
\`\`\`

## 핵심 지침

### 금지 사항

1. \`uvx --from serena-agent\` 사용 금지
2. \`serena start-mcp-server\` 사용 금지 (웹 대시보드 시작)
3. PyPI 패키지 사용 금지 (구버전)
4. 프로젝트별 .claude.json 설정 금지
5. \`web_dashboard: True\` 설정 금지
6. \`uv sync\` 생략 금지

### 필수 사항

1. GitHub에서 직접 클론
2. \`uv sync\`로 의존성 설치
3. \`web_dashboard: false\` 설정
4. \`uv run --directory\` 사용
5. 글로벌 ~/.claude.json 설정
6. 중복 설정 제거

## 결론

Serena MCP는 강력한 도구이나, 설치 과정에서 웹 대시보드 설정과 의존성 설치가 핵심입니다.

**필수 확인 사항:**
1. \`web_dashboard: false\`
2. \`uv sync\` 실행
3. 글로벌 설정 사용

본 가이드를 정확히 따르면 설치에 성공할 수 있습니다.

---
**작성일:** 2025년 8월 14일  
**참고 자료:** [hansdev.kr - Serena MCP 설치 가이드](https://hansdev.kr/tech/serena-mcp/)
`;

        // Copy button functionality
        document.getElementById('copyContent').addEventListener('click', function() {
            navigator.clipboard.writeText(markdownContent).then(function() {
                document.getElementById('copyStatus').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('copyStatus').style.display = 'none';
                }, 3000);
            }).catch(function(err) {
                console.error('복사 실패:', err);
            });
        });

        // Download button functionality
        document.getElementById('downloadMd').addEventListener('click', function() {
            const blob = new Blob([markdownContent], { type: 'text/markdown;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'serena-mcp-installation-guide.md';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        });
    </script>
</body>
</html>